<div class="login-wrapper">
  <div class="login-card" [formGroup]="form">
    <form (ngSubmit)="onSubmit()">
      <h1 class="title">Login</h1>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" placeholder="Email address" />
        <mat-icon matSuffix>mail</mat-icon>
        <mat-error *ngIf="form.get('email')?.hasError('email')"> Enter a valid email </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Password</mat-label>
        <input
          matInput
          formControlName="password"
          type="password"
          placeholder="Choose a password"
        />
        <mat-icon matSuffix>lock</mat-icon>
        <mat-error *ngIf="form.get('password')?.hasError('minlength')">
          Minimum 6 characters
        </mat-error>
      </mat-form-field>

      <div class="reg-link">
        <p>Don't have account ? <a routerLink="/auth/register">register now</a></p>
      </div>

      <button mat-raised-button color="primary" class="login-btn" [disabled]="form.invalid">
        {{ (isLoading$ | async) ? 'Logging in...' : 'Login' }}
      </button>
    </form>
    <div *ngIf="error$ | async as error" class="error-message">
      {{ error }}
    </div>
  </div>
</div>
